<div class="accordion mb-2" id="accordionExample">
  <div class="accordion-item" *ngFor="let idea of ideas; let i = index">
    <h2 class="accordion-header" [id]="'heading' + i">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#collapse' + i"
        [attr.aria-controls]="'collapse' + i"
        [attr.aria-expanded]="false"
      >
        {{ idea.name }}
      </button>
    </h2>

    <div
      [id]="'collapse' + i"
      class="accordion-collapse collapse"
      [attr.aria-labelledby]="'heading' + i"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <section>
          <div class="row mb-3">
            <div class="col-1 p-2">
              <label class="col-form-label">Categoría</label>
            </div>
            <div class="col-11 p-2">
              <select
                class="form-select"
                (change)="onCategorySelect(categorySelect.value, i)"
                #categorySelect
              >
                <option [ngValue]="null" disabled selected>Seleccione una categoría</option>
                <option
                  *ngFor="let category of idea.expectationCategories"
                  [ngValue]="category"
                >
                  {{ category.name }}
                </option>
              </select>
            </div>
          </div>
        </section>

        <app-detail-expectation
          *ngIf="selectedCategories[i]"
          [ideas]="selectedCategories[i].expectationIdeas"
        ></app-detail-expectation>
      </div>
    </div>
  </div>
</div>

<div class="mx-3">
  <label class="form-label">Comentarios y observaciones varias</label>
  <textarea class="form-control"></textarea>
</div>
