<section class="container" *ngIf="mostrarTemplate1; else template2">
    <div class="card">
        <div class="card-header bg-dark text-white">
            <div class="row">
                <div class="col-10">
                    <h3 class="card-text">{{titulo}}</h3>
                </div>
                <div class="col-2">
                    <Button type="button" class="btn btn-success"  (click)="agregarAccount()"> 
                        <i class="bi bi-plus-circle"></i>
                    </Button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="table-container data-section">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Password</th>
                            <th>Staff</th>
                            <th>SuperUsuario</th>
                            <th>Activo</th>
                            <th>Fecha Creación</th>
                            <th>Fecha Edición</th>
                            <th>Ultimo inicio de sesión</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let account of accounts">
                            <td>{{account.email}}</td>
                            <td>{{account.password}}</td>
                            <td>
                                <input (click)="actualizarDatos()" type="checkbox"  [(ngModel)]="account.is_staff" name="is_staff" placeholder="Es parte del staff">
                            </td>
                            <td>
                                <input (click)="actualizarDatos()" type="checkbox"  [(ngModel)]="account.is_superuser" name="is_superuser" placeholder="Es SuperUsuario">
                            </td>
                            <td>
                                <input (click)="actualizarDatos()" type="checkbox"  [(ngModel)]="account.is_active" name="is_active" placeholder="Es un usuario ACTIVO">
                            </td>
                            <td>{{account.date_joined}}</td>
                            <td>{{account.last_updated}}</td>
                            <td>{{account.last_login}}</td>
                            <td>
                                <Button type="button" class="btn btn-primary me-1" (click)="editarAccount(account)">
                                    <i class="bi bi-pencil"></i>
                                </Button>
                                <Button type="button" class="btn btn-danger">
                                    <i class="bi bi-trash2"></i>
                                </Button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
<ng-template #template2>
    <section>
        <div class="card">
            <div class="card-header bg-dark text-white">
                <div class="row">
                    <div class="col-10">
                        <h3 class="card-text">{{titulo}}</h3>        
                    </div>
                    <div class="col-2">
                        <button type="button" class="btn btn-danger" (click)="cerrarVentana()">
                            <i class="bi bi-x-circle"></i>
                        </button>
                    </div>
                </div>
                
            </div>
            <div class="card-body">
                <form>
                    <!--CORREO-->
                    <div class="form-group">
                        <label for="accountId">Correo del usuario</label>
                        <input [(ngModel)]="email" name="email" type="text" class="form-control" id="accountId" aria-describedby="accountHelp" placeholder="Ingrese el correo de usuario">
                    </div>
                    <!--PASSWORD-->
                    <div class="form-group">
                        <label for="accountId">Contraseña</label>
                        <input [(ngModel)]="password" name="password" type="text" class="form-control" id="accountId" aria-describedby="accountHelp" placeholder="Ingrese la contraseña de usuario">
                    </div>
                    <!--ESTADO-->
                    <div class="form-group">
                        <label for="accountId">Estado del usuario Activo</label>
                        <input type="checkbox" [(ngModel)]="is_active" name="is_active" placeholder="Es un usuario activo" class="form-control" id="accountId" aria-describedby="accountHelp">
                    </div>
                    <!--STAFF-->
                    <div class="form-group">
                        <label for="accountId">Es parte del STAFF</label>
                        <input type="checkbox" [(ngModel)]="is_staff" name="is_staff" placeholder="Es parte del staff" class="form-control" id="accountId" aria-describedby="accountHelp">
                    </div>
                    <!--BOTON GUARDAR-->
                    <div class="d-flex justify-content-center">
                        <button *ngIf="tipoBotonGuardar =='Nuevo'" type="button" class="btn btn-primary mt-3" (click)="enviarDatos()">GUARDAR</button>
                        <button *ngIf="tipoBotonGuardar=='Editar'" type="button" class="btn btn-primary mt-3" (click)="actualizarDatos()">GUARDAR</button>
                    </div>
                </form>
            </div>
        </div>
    </section>   
</ng-template>

<section class="mt-3" *ngIf="mostrarAlerta">
    <div [ngClass]="tipoAlertaClase=='success'?['alert','alert-success']:['alert','alert-danger']" role="alert">
        <h4 class="alert-heading">{{tituloAlerta}}</h4>
        <p>{{contenidoAlerta}}</p>
        <hr>
      </div>
</section> 
